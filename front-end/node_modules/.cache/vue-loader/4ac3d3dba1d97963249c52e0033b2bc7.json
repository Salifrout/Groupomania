{"remainingRequest":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=scss","dependencies":[{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\src\\views\\Login.vue","mtime":1650477363511},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\css-loader\\dist\\cjs.js","mtime":1650322847962},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1650322870610},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\postcss-loader\\src\\index.js","mtime":1650322862468},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1650322865703},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650322844537},{"path":"C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650322870592}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQojbG9naW4gew0KICBtYXJnaW46IGF1dG87DQogIHBhZGRpbmc6IDglOw0KICBib3JkZXI6IDRtbSByaWRnZSAjZmQyZDAxOw0KICBib3gtc2hhZG93OiA4cHggM3B4IGJsYWNrLCAtMWVtIDAgLjRlbSBwaW5rOw0KICB3aWR0aDogNTAlOw0KICAuc3VibWl0IHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgICBib3JkZXItY29sb3I6IHBpbms7DQogICAgY29sb3I6IHBpbms7DQogICAgcGFkZGluZzogMTBweCAyMHB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["C:\\Users\\nml2\\Documents\\Projet_7_OPC\\front-end\\src\\views\\Login.vue"],"names":[],"mappings":";AA8DA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACpB;AACF","file":"C:/Users/nml2/Documents/Projet_7_OPC/front-end/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <Header />\r\n    <div id=\"login\">\r\n    <p class=\"intro\">Vous avez déjà un compte Groupomania ? Veuillez entrer vos informations de connexion. Sinon, veuillez d'abord vous <router-link :to=\"{ name: 'Signup' }\">créer un compte.</router-link></p>\r\n    <form method=\"post\">\r\n        <label for=\"e-mail\" class=\"intro_label\">Veuillez renseigner votre email:</label><br />\r\n        <input type=\"email\" id=\"e-mail\" class=\"intro_input\" v-model=\"email\" autofocus required><br />\r\n        <label for=\"pass-wword\" class=\"intro_label\">Veuillez renseigner votre mot de passe:</label><br />\r\n        <input type=\"password\" id=\"pass-word\" class=\"intro_input\" v-model=\"password\" required><br /><br />\r\n        <input type=\"submit\" value=\"Je me connecte\" class=\"submit\" @click=\"toConnect\">\r\n    </form>\r\n    </div>\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '../components/Header_user.vue';\r\nimport Footer from '../components/Footer.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer\r\n  },\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.clear();\r\n  },\r\n  methods: {\r\n    async toConnect() {\r\n      if (this.email.length > 1 && this.password.length > 1) {\r\n        const Connecting = {\r\n          method: 'post',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({'user_email' : this.email, 'user_password' : this.password}),\r\n          redirect: 'follow'\r\n        };\r\n\r\n        fetch (\"http://localhost:3000/api/user/login\", Connecting)\r\n        .then(function(response) { return response.json()})\r\n        .then(function(value) { if (value.token) {sessionStorage.setItem('Authorization', JSON.stringify(value));}})\r\n        .then(this.$router.push({ name: 'Published' }))\r\n        .catch(function(error) { console.log('Une erreur est survenue. Veuillez vérifier vos informations de connexion: ' + error)});\r\n      } else {\r\n        alert('Veuillez remplir les champs requis afin de pouvoir vous connecter.')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n#login {\r\n  margin: auto;\r\n  padding: 8%;\r\n  border: 4mm ridge #fd2d01;\r\n  box-shadow: 8px 3px black, -1em 0 .4em pink;\r\n  width: 50%;\r\n  .submit {\r\n    background-color: black;\r\n    border-color: pink;\r\n    color: pink;\r\n    padding: 10px 20px;\r\n  }\r\n}\r\n</style>"]}]}